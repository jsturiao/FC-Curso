# Clean Architecture - DocumentaÃ§Ã£o TÃ©cnica

## ğŸ“‹ Ãndice
1. [VisÃ£o Geral](#visÃ£o-geral)
2. [Arquitetura do Sistema](#arquitetura-do-sistema)
3. [Camadas da Arquitetura](#camadas-da-arquitetura)
4. [Fluxo de ComunicaÃ§Ã£o](#fluxo-de-comunicaÃ§Ã£o)
5. [PadrÃµes Implementados](#padrÃµes-implementados)
6. [Estrutura de DiretÃ³rios](#estrutura-de-diretÃ³rios)
7. [Tecnologias Utilizadas](#tecnologias-utilizadas)
8. [Testes](#testes)
9. [API Endpoints](#api-endpoints)
10. [Como Executar](#como-executar)

## ğŸ¯ VisÃ£o Geral

Este projeto implementa uma arquitetura limpa (Clean Architecture) seguindo os princÃ­pios SOLID e DDD (Domain-Driven Design). O sistema gerencia **Customers** e **Products** com operaÃ§Ãµes CRUD completas, validaÃ§Ã£o robusta usando Notification Pattern, e uma API RESTful com suporte a JSON e XML.

### Principais CaracterÃ­sticas:
- âœ… **Clean Architecture** com separaÃ§Ã£o clara de responsabilidades
- âœ… **Domain-Driven Design** com entidades ricas e value objects
- âœ… **Notification Pattern** para acumulaÃ§Ã£o de erros de validaÃ§Ã£o
- âœ… **Repository Pattern** para abstraÃ§Ã£o de persistÃªncia
- âœ… **Factory Pattern** para criaÃ§Ã£o de objetos e validadores
- âœ… **Use Cases** bem definidos seguindo Single Responsibility
- âœ… **Event-Driven Architecture** com Domain Events
- âœ… **API RESTful** com suporte a mÃºltiplos formatos (JSON/XML)

## ğŸ—ï¸ Arquitetura do Sistema

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        PRESENTATION LAYER                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚    REST     â”‚  â”‚ Controllers â”‚  â”‚   Routes    â”‚  â”‚ Presenters  â”‚ â”‚
â”‚  â”‚     API     â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       APPLICATION LAYER                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Use Cases   â”‚  â”‚    DTOs     â”‚  â”‚  Customer   â”‚  â”‚   Product   â”‚ â”‚
â”‚  â”‚             â”‚  â”‚             â”‚  â”‚ Use Cases   â”‚  â”‚ Use Cases   â”‚ â”‚
â”‚  â”‚ Create/Find â”‚  â”‚ Input/Outputâ”‚  â”‚             â”‚  â”‚             â”‚ â”‚
â”‚  â”‚ List/Update â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         DOMAIN LAYER                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Entities   â”‚  â”‚    Value    â”‚  â”‚   Domain    â”‚  â”‚  Domain     â”‚ â”‚
â”‚  â”‚             â”‚  â”‚   Objects   â”‚  â”‚   Events    â”‚  â”‚  Services   â”‚ â”‚
â”‚  â”‚ Customer    â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚ â”‚
â”‚  â”‚ Product     â”‚  â”‚   Address   â”‚  â”‚ CustomerCreatedâ”‚ â”‚ OrderServiceâ”‚ â”‚
â”‚  â”‚ Order       â”‚  â”‚             â”‚  â”‚ ProductCreated â”‚ â”‚             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Factories  â”‚  â”‚ Validators  â”‚  â”‚Notification â”‚  â”‚ Repository  â”‚ â”‚
â”‚  â”‚             â”‚  â”‚             â”‚  â”‚   Pattern   â”‚  â”‚ Interfaces  â”‚ â”‚
â”‚  â”‚ Customer    â”‚  â”‚ Yup         â”‚  â”‚             â”‚  â”‚             â”‚ â”‚
â”‚  â”‚ Product     â”‚  â”‚ Validators  â”‚  â”‚ Error Acc.  â”‚  â”‚ Contracts   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      INFRASTRUCTURE LAYER                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚Repositories â”‚  â”‚ ORM Models  â”‚  â”‚   Database  â”‚  â”‚    Event    â”‚ â”‚
â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚  â”‚  Handlers   â”‚ â”‚
â”‚  â”‚ Customer    â”‚  â”‚ Sequelize   â”‚  â”‚   SQLite    â”‚  â”‚             â”‚ â”‚
â”‚  â”‚ Product     â”‚  â”‚ Models      â”‚  â”‚  PostgreSQL â”‚  â”‚ Email/Log   â”‚ â”‚
â”‚  â”‚ Order       â”‚  â”‚             â”‚  â”‚   MySQL     â”‚  â”‚ Handlers    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

 FLUXO DE DEPENDÃŠNCIAS (Clean Architecture):
 â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 
 Presentation Layer    â†’    Application Layer
 Application Layer     â†’    Domain Layer
 Infrastructure Layer  â†’    Domain Layer (implementa interfaces)
 
 REGRA: Camadas internas nunca dependem de camadas externas
```

## ğŸ“š Camadas da Arquitetura

### ğŸ¨ **1. Presentation Layer (Interface)**
ResponsÃ¡vel pela interaÃ§Ã£o com o mundo externo.

**Componentes:**
- **Controllers**: Recebem requisiÃ§Ãµes HTTP e coordenam a execuÃ§Ã£o
- **Routes**: Definem os endpoints da API
- **Presenters**: Formatam a saÃ­da (JSON/XML)
- **DTOs**: Objetos de transferÃªncia de dados

**Exemplo de Controller:**
```typescript
customerRoute.post("/", async (req: Request, res: Response) => {
  const usecase = new CreateCustomerUseCase(new CustomerRepository());
  const output = await usecase.execute(customerDto);
  res.send(output);
});
```

### ğŸ”§ **2. Application Layer (Casos de Uso)**
ContÃ©m a lÃ³gica de aplicaÃ§Ã£o e orquestra o fluxo de dados.

**Componentes:**
- **Use Cases**: Implementam regras de negÃ³cio especÃ­ficas
- **Input/Output DTOs**: Definem contratos de entrada e saÃ­da

**Use Cases Implementados:**
```
Customer:
â”œâ”€â”€ CreateCustomerUseCase
â”œâ”€â”€ FindCustomerUseCase
â”œâ”€â”€ ListCustomerUseCase
â””â”€â”€ UpdateCustomerUseCase

Product:
â”œâ”€â”€ CreateProductUseCase
â”œâ”€â”€ FindProductUseCase
â”œâ”€â”€ ListProductUseCase
â””â”€â”€ UpdateProductUseCase
```

### ğŸ§  **3. Domain Layer (DomÃ­nio)**
CoraÃ§Ã£o da aplicaÃ§Ã£o, contÃ©m as regras de negÃ³cio puras.

**Entidades Principais:**
- **Customer**: Representa um cliente com endereÃ§o e pontos de recompensa
- **Product**: Representa um produto com nome e preÃ§o
- **Address**: Value Object para endereÃ§o do cliente
- **Order**: Agregado para pedidos

**PadrÃµes no DomÃ­nio:**
- **Notification Pattern**: Acumula erros de validaÃ§Ã£o
- **Domain Events**: CustomerCreated, CustomerAddressChanged, ProductCreated
- **Factory Pattern**: CustomerFactory, ProductFactory
- **Validator Pattern**: CustomerYupValidator, ProductYupValidator

### ğŸ’¾ **4. Infrastructure Layer (Infraestrutura)**
Implementa detalhes tÃ©cnicos e externos.

**Componentes:**
- **Repositories**: ImplementaÃ§Ã£o concreta da persistÃªncia
- **Models**: Mapeamento ORM (Sequelize)
- **Event Handlers**: Processadores de eventos de domÃ­nio

## ğŸ”„ Fluxo de ComunicaÃ§Ã£o

### ğŸ“¥ **Fluxo de Entrada (Request)**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ HTTP Requestâ”‚â”€â”€â”€â–¶â”‚    Route    â”‚â”€â”€â”€â–¶â”‚ Controller  â”‚â”€â”€â”€â–¶â”‚  Use Case   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                 â”‚
                                                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Database   â”‚â—€â”€â”€â”€â”‚ Repository  â”‚â—€â”€â”€â”€â”‚Domain Entityâ”‚â—€â”€â”€â”€â”‚ Validation  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ“¤ **Fluxo de SaÃ­da (Response)**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Database   â”‚â”€â”€â”€â–¶â”‚ Repository  â”‚â”€â”€â”€â–¶â”‚  Use Case   â”‚â”€â”€â”€â–¶â”‚ Controller  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                 â”‚
                                                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚HTTP Responseâ”‚â—€â”€â”€â”€â”‚ Presenter   â”‚â—€â”€â”€â”€â”‚   Format    â”‚â—€â”€â”€â”€â”‚JSON/XML Dataâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ¯ **Exemplo Completo: Criar Produto**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      FLUXO DETALHADO                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. REQUEST
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ POST /product   â”‚
   â”‚ {               â”‚
   â”‚   "name": "...", â”‚
   â”‚   "price": 999  â”‚
   â”‚ }               â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
2. ROUTE & CONTROLLER
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ productRoute    â”‚
   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
   â”‚ - Recebe dados  â”‚
   â”‚ - Instancia UC  â”‚
   â”‚ - Executa       â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
3. USE CASE
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚CreateProductUC  â”‚
   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
   â”‚ - Valida input  â”‚
   â”‚ - Chama Factory â”‚
   â”‚ - Salva no Repo â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
4. DOMAIN LAYER
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ ProductFactory  â”‚â”€â”€â”€â”€â–¶ â”‚  Product Entity â”‚â”€â”€â”€â”€â–¶ â”‚ YupValidator    â”‚
   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚      â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚      â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
   â”‚ - Cria objeto   â”‚      â”‚ - Aplica regras â”‚      â”‚ - Valida dados  â”‚
   â”‚ - Define ID     â”‚      â”‚ - Valida estado â”‚      â”‚ - Acumula erros â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                        â”‚                        â”‚
            â”‚                        â–¼                        â”‚
            â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
            â”‚              â”‚ Notification    â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚              â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
            â”‚              â”‚ - Acumula erros â”‚
            â”‚              â”‚ - LanÃ§a exceÃ§Ã£o â”‚
            â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â–¼
5. INFRASTRUCTURE
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ProductRepositoryâ”‚â”€â”€â”€â”€â–¶ â”‚ ProductModel    â”‚â”€â”€â”€â”€â–¶ â”‚   Database      â”‚
   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚      â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚      â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
   â”‚ - Implementa    â”‚      â”‚ - Mapeamento    â”‚      â”‚ - Persiste      â”‚
   â”‚   interface     â”‚      â”‚   ORM           â”‚      â”‚   dados         â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
6. RESPONSE
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ {               â”‚
   â”‚   "id": "uuid", â”‚
   â”‚   "name": "...", â”‚
   â”‚   "price": 999  â”‚
   â”‚ }               â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

EVENTOS PARALELOS:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ProductCreatedEvtâ”‚â”€â”€â”€â”€â–¶ â”‚  EventDispatch  â”‚â”€â”€â”€â”€â–¶ â”‚  EventHandlers  â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚      â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚      â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ - Produto criadoâ”‚      â”‚ - Notifica      â”‚      â”‚ - Envia email   â”‚
â”‚ - Dados evento  â”‚      â”‚   handlers      â”‚      â”‚ - Log sistema   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ PadrÃµes Implementados

### ğŸ”” **Notification Pattern**
Acumula erros de validaÃ§Ã£o evitando mÃºltiplas exceÃ§Ãµes.

```
 ANTES (MÃºltiplas ExceÃ§Ãµes):
 â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    âŒ Exception    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ ValidaÃ§Ã£o 1 â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚ Erro Name   â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    âŒ Exception    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ ValidaÃ§Ã£o 2 â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚ Erro Price  â”‚ 
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    âŒ Exception    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ ValidaÃ§Ã£o 3 â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚ Erro ID     â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

 DEPOIS (Notification Pattern):
 â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ ValidaÃ§Ã£o 1 â”‚â”€â”€â”                 â”‚             â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                 â”‚             â”‚
                  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ Notificationâ”‚
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”œâ”€â”€â–¶â”‚   Acumula   â”‚â”‚  Container  â”‚
 â”‚ ValidaÃ§Ã£o 2 â”‚â”€â”€â”¤   â”‚   Erros     â”‚â”‚             â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚             â”‚
                  â”‚                 â”‚             â”‚
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                 â”‚             â”‚
 â”‚ ValidaÃ§Ã£o 3 â”‚â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
                                           â–¼
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚ Uma Ãºnica exceÃ§Ã£o com todos os â”‚
                     â”‚ erros: "product: Id required,  â”‚
                     â”‚ product: Name required,        â”‚
                     â”‚ product: Price invalid"        â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ImplementaÃ§Ã£o:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       NOTIFICATION PATTERN                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. ENTITY BASE
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Entity Abstract â”‚
   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
   â”‚ + notification  â”‚
   â”‚   Notification  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
2. PRODUCT ENTITY
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Product         â”‚â”€â”€â”€â”€â–¶ â”‚ validate()      â”‚
   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚      â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
   â”‚ extends Entity  â”‚      â”‚ ValidatorFactoryâ”‚
   â”‚ + notification  â”‚      â”‚ .create()       â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ .validate(this) â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                                     â–¼
3. YUP VALIDATOR
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ ProductYupValidator                                     â”‚
   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
   â”‚ validate(entity: Product): void {                       â”‚
   â”‚   try {                                                 â”‚
   â”‚     yup.object().shape({...}).validateSync({...})      â”‚
   â”‚   } catch (errors) {                                    â”‚
   â”‚     errors.forEach(error => {                           â”‚
   â”‚       entity.notification.addError({                    â”‚
   â”‚         context: "product",                             â”‚
   â”‚         message: error                                  â”‚
   â”‚       })                                                â”‚
   â”‚     })                                                  â”‚
   â”‚   }                                                     â”‚
   â”‚ }                                                       â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                                     â–¼
4. NOTIFICATION CONTAINER
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Notification                                            â”‚
   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
   â”‚ - errors: NotificationErrorProps[]                      â”‚
   â”‚ + addError(error)                                       â”‚
   â”‚ + hasErrors(): boolean                                  â”‚
   â”‚ + getErrors()                                           â”‚
   â”‚ + messages(context?: string): string                    â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                                     â–¼
5. ERROR HANDLING
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ if (this.notification.hasErrors()) {                    â”‚
   â”‚   throw new NotificationError(                          â”‚
   â”‚     this.notification.getErrors()                       â”‚
   â”‚   );                                                    â”‚
   â”‚ }                                                       â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ­ **Factory Pattern**
Centraliza a criaÃ§Ã£o de objetos complexos.

```typescript
export default class ProductFactory {
  public static create(type: string, name: string, price: number): ProductInterface {
    if (type === "a") {
      return new Product(v4(), name, price);
    }
    if (type === "b") {
      return new ProductB(v4(), name, price);
    }
    throw new Error("Product type not supported");
  }
}
```

### ğŸ“¦ **Repository Pattern**
Abstrai o acesso a dados.

```typescript
interface ProductRepositoryInterface extends RepositoryInterface<Product> {
  create(entity: Product): Promise<void>;
  update(entity: Product): Promise<void>;
  find(id: string): Promise<Product>;
  findAll(): Promise<Product[]>;
}
```

### ğŸ“§ **Domain Events**
Desacopla aÃ§Ãµes secundÃ¡rias do fluxo principal.

```typescript
// Evento disparado
this._eventDispatcher.notify(new CustomerCreatedEvent(this));

// Handler processa
export default class SendEmailWhenCustomerIsCreatedHandler {
  handle(event: EventInterface): void {
    console.log("Sending email to customer...");
  }
}
```

## ğŸ“ Estrutura de DiretÃ³rios

```
src/
â”œâ”€â”€ domain/                          # Camada de DomÃ­nio
â”‚   â”œâ”€â”€ @shared/                     # Componentes compartilhados
â”‚   â”‚   â”œâ”€â”€ entity/                  # Entidade base
â”‚   â”‚   â”œâ”€â”€ event/                   # Sistema de eventos
â”‚   â”‚   â”œâ”€â”€ notification/            # Notification Pattern
â”‚   â”‚   â”œâ”€â”€ repository/              # Interface base de repositÃ³rio
â”‚   â”‚   â””â”€â”€ validator/               # Interface de validaÃ§Ã£o
â”‚   â”œâ”€â”€ customer/                    # Agregado Customer
â”‚   â”‚   â”œâ”€â”€ entity/                  # Customer.ts
â”‚   â”‚   â”œâ”€â”€ factory/                 # CustomerFactory, ValidatorFactory
â”‚   â”‚   â”œâ”€â”€ repository/              # CustomerRepositoryInterface
â”‚   â”‚   â”œâ”€â”€ validator/               # CustomerYupValidator
â”‚   â”‚   â””â”€â”€ value-object/            # Address
â”‚   â””â”€â”€ product/                     # Agregado Product
â”‚       â”œâ”€â”€ entity/                  # Product.ts
â”‚       â”œâ”€â”€ event/                   # ProductCreatedEvent
â”‚       â”œâ”€â”€ factory/                 # ProductFactory, ValidatorFactory
â”‚       â”œâ”€â”€ repository/              # ProductRepositoryInterface
â”‚       â”œâ”€â”€ service/                 # ProductService
â”‚       â””â”€â”€ validator/               # ProductYupValidator
â”œâ”€â”€ usecase/                         # Camada de AplicaÃ§Ã£o
â”‚   â”œâ”€â”€ customer/                    # Use Cases de Customer
â”‚   â”‚   â”œâ”€â”€ create/                  # DTO, UseCase, Tests
â”‚   â”‚   â”œâ”€â”€ find/                    # DTO, UseCase, Tests
â”‚   â”‚   â”œâ”€â”€ list/                    # DTO, UseCase, Tests
â”‚   â”‚   â””â”€â”€ update/                  # DTO, UseCase, Tests
â”‚   â””â”€â”€ product/                     # Use Cases de Product
â”‚       â”œâ”€â”€ create/                  # DTO, UseCase, Tests
â”‚       â”œâ”€â”€ find/                    # DTO, UseCase, Tests
â”‚       â”œâ”€â”€ list/                    # DTO, UseCase, Tests
â”‚       â””â”€â”€ update/                  # DTO, UseCase, Tests
â””â”€â”€ infrastructure/                  # Camada de Infraestrutura
    â”œâ”€â”€ api/                         # API REST
    â”‚   â”œâ”€â”€ __tests__/               # Testes E2E
    â”‚   â”œâ”€â”€ presenters/              # Formatadores de saÃ­da
    â”‚   â””â”€â”€ routes/                  # DefiniÃ§Ã£o de rotas
    â”œâ”€â”€ customer/                    # Infraestrutura Customer
    â”‚   â””â”€â”€ repository/sequelize/    # ImplementaÃ§Ã£o Sequelize
    â”œâ”€â”€ order/                       # Infraestrutura Order
    â”‚   â””â”€â”€ repository/sequelize/    # ImplementaÃ§Ã£o Sequelize
    â””â”€â”€ product/                     # Infraestrutura Product
        â””â”€â”€ repository/sequelize/    # ImplementaÃ§Ã£o Sequelize
```

## ğŸ› ï¸ Tecnologias Utilizadas

### **Core**
- **TypeScript**: Linguagem principal
- **Node.js**: Runtime
- **Express**: Framework web

### **Banco de Dados**
- **Sequelize**: ORM
- **SQLite**: Banco para desenvolvimento/testes

### **ValidaÃ§Ã£o**
- **Yup**: Schema validation

### **Testes**
- **Jest**: Framework de testes
- **Supertest**: Testes de API

### **Outros**
- **UUID**: GeraÃ§Ã£o de IDs Ãºnicos
- **jstoxml**: ConversÃ£o JSON para XML

## ğŸ§ª Testes

### **Estrutura de Testes**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         PIRÃ‚MIDE DE TESTES                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚     E2E     â”‚ â† Poucos, Caros, Lentos
                            â”‚   Tests     â”‚   (API completa)
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚   Integration     â”‚ â† MÃ©dio volume
                        â”‚     Tests         â”‚   (Banco + Use Cases)
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚      Unit Tests           â”‚ â† Muitos, RÃ¡pidos, Baratos
                    â”‚  (Entities + Use Cases)   â”‚   (Componentes isolados)
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

DISTRIBUIÃ‡ÃƒO POR CAMADA:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PRESENTATION    â”‚  APPLICATION    â”‚    DOMAIN       â”‚INFRASTRUCTURE   â”‚
â”‚                 â”‚                 â”‚                 â”‚                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚    E2E      â”‚ â”‚ â”‚Integration  â”‚ â”‚ â”‚    Unit     â”‚ â”‚ â”‚Integration  â”‚ â”‚
â”‚ â”‚   Tests     â”‚ â”‚ â”‚   Tests     â”‚ â”‚ â”‚   Tests     â”‚ â”‚ â”‚   Tests     â”‚ â”‚
â”‚ â”‚             â”‚ â”‚ â”‚             â”‚ â”‚ â”‚             â”‚ â”‚ â”‚             â”‚ â”‚
â”‚ â”‚ â€¢ API       â”‚ â”‚ â”‚ â€¢ Use Cases â”‚ â”‚ â”‚ â€¢ Entities  â”‚ â”‚ â”‚ â€¢ Repositoryâ”‚ â”‚
â”‚ â”‚ â€¢ Routes    â”‚ â”‚ â”‚ â€¢ With DB   â”‚ â”‚ â”‚ â€¢ Services  â”‚ â”‚ â”‚ â€¢ Models    â”‚ â”‚
â”‚ â”‚ â€¢ Full Flow â”‚ â”‚ â”‚ â€¢ Real Repo â”‚ â”‚ â”‚ â€¢ Factories â”‚ â”‚ â”‚ â€¢ Database  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **Cobertura Atual**
```
Test Suites: 28 passed
Tests: 78 passed
Coverage: 100% das funcionalidades principais

DETALHAMENTO:
â”œâ”€â”€ Domain Tests (12 suites)
â”‚   â”œâ”€â”€ Entity Tests ........................ âœ… 15 tests
â”‚   â”œâ”€â”€ Factory Tests ....................... âœ… 8 tests  
â”‚   â”œâ”€â”€ Service Tests ....................... âœ… 6 tests
â”‚   â””â”€â”€ Event Tests ......................... âœ… 4 tests
â”‚
â”œâ”€â”€ Use Case Tests (12 suites)  
â”‚   â”œâ”€â”€ Unit Tests (mocked) ................ âœ… 24 tests
â”‚   â””â”€â”€ Integration Tests (real DB) ........ âœ… 18 tests
â”‚
â””â”€â”€ Infrastructure Tests (4 suites)
    â”œâ”€â”€ Repository Tests ................... âœ… 12 tests
    â””â”€â”€ API E2E Tests ...................... âœ… 6 tests
```

### **Tipos de Teste por Camada**

**Domain Layer:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       UNIT TESTS - DOMAIN                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Entity Tests    â”‚    â”‚ Factory Tests   â”‚    â”‚ Service Tests   â”‚ â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ â”‚
â”‚  â”‚ â€¢ Validation    â”‚    â”‚ â€¢ Object        â”‚    â”‚ â€¢ Business      â”‚ â”‚
â”‚  â”‚ â€¢ State Changes â”‚    â”‚   Creation      â”‚    â”‚   Logic         â”‚ â”‚
â”‚  â”‚ â€¢ Business      â”‚    â”‚ â€¢ Type Handling â”‚    â”‚ â€¢ Calculations  â”‚ â”‚
â”‚  â”‚   Rules         â”‚    â”‚                 â”‚    â”‚                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                    â”‚
â”‚  EXEMPLO: Product Entity Tests                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ describe("Product unit tests", () => {                       â”‚ â”‚
â”‚  â”‚   it("should throw error when all properties invalid", () =>â”‚ â”‚
â”‚  â”‚     expect(() => new Product("", "", -1))                   â”‚ â”‚
â”‚  â”‚       .toThrowError("product: Id required,                  â”‚ â”‚
â”‚  â”‚                      product: Name required,                â”‚ â”‚
â”‚  â”‚                      product: Price invalid");              â”‚ â”‚
â”‚  â”‚   });                                                        â”‚ â”‚
â”‚  â”‚ });                                                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Use Case Layer:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    USE CASE TESTS                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚
â”‚  UNIT TESTS (Mocked Dependencies)                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ const mockRepository = {                                     â”‚ â”‚
â”‚  â”‚   create: jest.fn(),                                         â”‚ â”‚
â”‚  â”‚   find: jest.fn().mockReturnValue(productMock)              â”‚ â”‚
â”‚  â”‚ };                                                           â”‚ â”‚
â”‚  â”‚                                                              â”‚ â”‚
â”‚  â”‚ const useCase = new CreateProductUseCase(mockRepository);    â”‚ â”‚
â”‚  â”‚ const output = await useCase.execute(input);                 â”‚ â”‚
â”‚  â”‚                                                              â”‚ â”‚
â”‚  â”‚ expect(mockRepository.create).toHaveBeenCalled();            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                    â”‚
â”‚  INTEGRATION TESTS (Real Database)                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ beforeEach(async () => {                                     â”‚ â”‚
â”‚  â”‚   await sequelize.sync({ force: true });                    â”‚ â”‚
â”‚  â”‚ });                                                          â”‚ â”‚
â”‚  â”‚                                                              â”‚ â”‚
â”‚  â”‚ const repository = new ProductRepository();                  â”‚ â”‚
â”‚  â”‚ const useCase = new CreateProductUseCase(repository);        â”‚ â”‚
â”‚  â”‚ const output = await useCase.execute(input);                 â”‚ â”‚
â”‚  â”‚                                                              â”‚ â”‚
â”‚  â”‚ // Verifica se foi salvo no banco real                      â”‚ â”‚
â”‚  â”‚ const product = await repository.find(output.id);           â”‚ â”‚
â”‚  â”‚ expect(product.name).toBe(input.name);                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**API Layer:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        E2E TESTS                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚
â”‚  FULL INTEGRATION (HTTP â†’ Database)                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ describe("E2E test for product", () => {                     â”‚ â”‚
â”‚  â”‚   it("should list all products", async () => {              â”‚ â”‚
â”‚  â”‚     // 1. Cria produtos via API                             â”‚ â”‚
â”‚  â”‚     await request(app)                                       â”‚ â”‚
â”‚  â”‚       .post("/product")                                      â”‚ â”‚
â”‚  â”‚       .send({ name: "Product 1", price: 100 });             â”‚ â”‚
â”‚  â”‚                                                              â”‚ â”‚
â”‚  â”‚     // 2. Lista produtos via API                            â”‚ â”‚
â”‚  â”‚     const response = await request(app)                      â”‚ â”‚
â”‚  â”‚       .get("/product");                                      â”‚ â”‚
â”‚  â”‚                                                              â”‚ â”‚
â”‚  â”‚     // 3. Verifica resposta completa                        â”‚ â”‚
â”‚  â”‚     expect(response.status).toBe(200);                       â”‚ â”‚
â”‚  â”‚     expect(response.body.products.length).toBe(2);          â”‚ â”‚
â”‚  â”‚   });                                                        â”‚ â”‚
â”‚  â”‚ });                                                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                    â”‚
â”‚  MULTI-FORMAT TESTING                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ // Testa resposta JSON                                       â”‚ â”‚
â”‚  â”‚ const jsonResponse = await request(app)                      â”‚ â”‚
â”‚  â”‚   .get("/product")                                           â”‚ â”‚
â”‚  â”‚   .set("Accept", "application/json");                       â”‚ â”‚
â”‚  â”‚                                                              â”‚ â”‚
â”‚  â”‚ // Testa resposta XML                                        â”‚ â”‚
â”‚  â”‚ const xmlResponse = await request(app)                       â”‚ â”‚
â”‚  â”‚   .get("/product")                                           â”‚ â”‚
â”‚  â”‚   .set("Accept", "application/xml");                        â”‚ â”‚
â”‚  â”‚                                                              â”‚ â”‚
â”‚  â”‚ expect(xmlResponse.text).toContain("<products>");            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ API Endpoints

### **Customer Endpoints**
```http
POST   /customer          # Criar cliente
GET    /customer          # Listar clientes
PUT    /customer/:id      # Atualizar cliente
GET    /customer/:id      # Buscar cliente
```

### **Product Endpoints**
```http
POST   /product           # Criar produto
GET    /product           # Listar produtos  
PUT    /product/:id       # Atualizar produto
GET    /product/:id       # Buscar produto
```

### **Exemplos de RequisiÃ§Ãµes**

**Criar Produto:**
```bash
curl -X POST http://localhost:3000/product \
  -H "Content-Type: application/json" \
  -d '{"name": "Smartphone", "price": 999.99}'
```

**Listar Produtos (JSON):**
```bash
curl http://localhost:3000/product
```

**Listar Produtos (XML):**
```bash
curl -H "Accept: application/xml" http://localhost:3000/product
```

## ğŸ³ Como Executar

### **PrÃ©-requisitos**
- Docker e Docker Compose
- Node.js 18+ (para desenvolvimento local)

### **Executar com Docker**
```bash
# Executar todos os testes
./run-tests.sh

# Executar testes especÃ­ficos
./run-tests.sh product.spec.ts

# Executar aplicaÃ§Ã£o
docker-compose up
```

### **Executar Localmente**
```bash
# Instalar dependÃªncias
npm install

# Executar testes
npm test

# Compilar TypeScript
npm run tsc

# Executar aplicaÃ§Ã£o
npm start
```

### **Scripts DisponÃ­veis**
```json
{
  "scripts": {
    "test": "npm run tsc -- --noEmit && jest",
    "tsc": "tsc",
    "start": "node dist/index.js"
  }
}
```

## ğŸ“ˆ BenefÃ­cios da Arquitetura

### **Manutenibilidade**
- âœ… CÃ³digo organizado em camadas bem definidas
- âœ… Baixo acoplamento entre componentes
- âœ… Alta coesÃ£o dentro de cada mÃ³dulo

### **Testabilidade**
- âœ… DependÃªncias injetadas facilitam mocking
- âœ… LÃ³gica de negÃ³cio isolada
- âœ… Testes rÃ¡pidos e confiÃ¡veis

### **Flexibilidade**
- âœ… FÃ¡cil troca de implementaÃ§Ãµes (banco, validaÃ§Ã£o)
- âœ… AdiÃ§Ã£o de novas funcionalidades sem impacto
- âœ… Suporte a mÃºltiplos formatos de saÃ­da

### **Escalabilidade**
- âœ… Estrutura preparada para crescimento
- âœ… PadrÃµes que facilitam trabalho em equipe
- âœ… SeparaÃ§Ã£o clara de responsabilidades

---

## ğŸ“ Notas Finais

Esta arquitetura implementa os princÃ­pios da Clean Architecture de Robert C. Martin, garantindo que:

1. **As regras de negÃ³cio nÃ£o dependem de frameworks**
2. **A interface do usuÃ¡rio pode mudar facilmente**
3. **O banco de dados pode ser substituÃ­do**
4. **As regras de negÃ³cio podem ser testadas sem elementos externos**

O projeto serve como exemplo prÃ¡tico de como estruturar aplicaÃ§Ãµes Node.js/TypeScript seguindo boas prÃ¡ticas de arquitetura de software.
